db-load-datastore-config-params:
  description: |
    Loads configuration group parameter validation rules for a datastore
    version into the database.
  params:
    datastore:
      type: string
      description: Name of the datastore.
    datastore-version-name:
      type: string
      description: Name of the datastore version.
    config-file:
      type: string
      description: URL to the configuration group parameter validation rules.
    version:
      type: string
      description: |
        The version number of the datastore version, e.g. 5.7.30. If not
        specified, datastore-version-name will be used as default value.
  required: [datastore, datastore-version-name, config-file]
create-management-network:
  description: |
    Creates the Neutron management network for Trove.
  params:
    physical-network:
      type: string
      description: |
        The physical network name for the Neutron network creation.
        This network name must be configured in the `neutron-api` charm's
        `flat-network-providers` config option.
        Through this network, the Trove instances should be able to connect to
        the RabbitMQ charm used by the OpenStack services.
        The network can be retrieved by running:
          openstack network list --tag charm-trove
    network-type:
      type: string
      default: "flat"
      description: |
        The network type for the Neutron network creation. Only `flat` and `vlan`
        network types are supported.
        If the `network-type` is `vlan`, the `segmentation-id` argument must be given.
    segmentation-id:
      type: integer
      default: 0
      description: |
        The Segmentation ID for the Neutron network to be created, if the `network-type`
        is `vlan`. Not required for `flat` networks.
        The given `segmentation-id` must be a valid ID within the VLAN range defined for
        the given `physical-network`, which is set in the `neutron-api` charm's
        `vlan-ranges` config option.
    cidr:
      type: string
      description: |
        The subnet to be used by the Trove instances on the management network.
    destination-cidr:
      type: string
      default: ""
      description: |
        The RabbitMQ charm subnet.
        This, together with `nexthop`, are required if the Trove management
        network subnet is different from the RabbitMQ charm subnet. These
        arguments will be used to add a route in the Trove instances in order
        to reach RabbitMQ.
        The gateway must be able to route traffic between the 2 different
        CIDRs.
        Running the action again with different ``destination-cidr`` and
        ``nexthop`` will result in the new route replacing the older one.
    nexthop:
      type: string
      default: ""
      description: |
        The gateway address used to reach `destination-cidr`. Required if
        `destination-cidr` is given.
  required: [physical-network, cidr]
